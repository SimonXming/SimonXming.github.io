---
layout: post
title: What is an X.509 Certificate?
category: 未来
tags: 算法 加密算法
keywords: 加密算法
description:
---

An X.509 certificate is something that can be used in software to both:

1. Verify a person’s identity so you can be sure that the person really is who they say they are.
2. Send the person who owns the certificate encrypted data that only they will be able to decrypt and read.

## Identity Verification

So we’ve said that an X.509 certificate can be used to verify a person’s identity so you can trust that they really are who they say they are.

In this use case, you can think of an X.509 certificate as similar to a **national passport**. And as with national passports, you are very careful about who would ever have access to it – you would never give your passport away to anyone else.

X.509 certificates contains information about you and only you. And just as a national government acts as an authority for issuing and validating passports, something similar, called a Certificate Authority (CA), exists for X.509 certificates.

### Certificate Authority (CA)
A Certificate Authority is a 3rd party trusted by both you and anyone who might verify your identity. That is, when you use your X.509 certificate with someone who needs to verify your identity, you both trust that a certain Certificate Authority has validated your identity. Because the 3rd party trusts that the CA verified you, they in turn trust that your X.509 certificate really represents you and only you.

There are well-known global and public Certificate Authorities, such as Verisign and Digicert. Many companies have their own private Certificate Authorities used to verify employee identities, for example.

## Securing your data

In addition to verifying your identity, X.509 certificates can also be used to secure data intended for you so that prying eyes won’t be able to see it. It does this via a mathematical concept known as asymmetric key cryptography.

## Asymmetric Key Cryptography

Asymmetric Key cryptography is also known as Public/Private Key cryptography for this reason: one of the two asymmetric keys can be freely given out to the world at large; anyone can see and use it, which is why it is called the ‘public’ key. The other of the two keys however must remain totally private to you, so no one will ever see it or be able to use it. This is naturally called the ‘private’ key because it should remain private always.

The reason Public/Private Key cryptography works is that data locked by the public key can only be unlocked by the private key and vice versa.  If someone locks data with the public key, no one else who has the public key can unlock it – not even the person that originally locked it.  Only the person with the private key can unlock the data.  That is why the public key can be given to and seen by anyone.  As long as the private key remains safe, you can rest assured the data is locked safely.

## X.509 cryptography

An X.509 certificate is composed of two chunks of information:

1. Your identifying information, such as your name and maybe address
2. Your public key

As you can see, your public key is included in the X.509 certificate. This way, anyone who gets your certificate can both verify your identity (via a Certificate Authority) and encrypt data ‘for your eyes only’ with the included public key.

## Create an X.509 Certificate

Here is the high level overview of how one would create a validated X.509 certificate:

1. Using a cryptographic software tool (such as OpenSSL, the Java keytool, etc), a user generates a cryptographic public/private key pair and of course keeps the private key very secret (known to himself only).
2. Using their software tool, the user’s public key and an X.500 hierarchical name identity, called a ‘Distinguished Name’ are bundled up together into an intermediate file called a certificate. This certificate is not considered a valid X.509 certificate yet.  We’ll get to that.
3. The user then encrypts this certificate using their private key which results in a new file called a ‘Certificate Signing Request’ or CSR.  If you look inside this file, you’ll see  —–BEGIN CERTIFICATE REQUEST—– and —–END CERTIFICATE REQUEST—– lines sandwiching a Base 64-encoded blob.
4. The user then submits this CSR file to a Certificate Authority (Digicert, Verisign, etc) along with his public key (so the CA knows how to decrypt the CSR).
5. The CA decrypts the CSR using the user’s public key which results in the intermediate certificate from step #2  that contains the user’s Distinguished Name and the user’s public key.
6. The CA verifies the identity of the user associated with the CSR.  They will ask for faxed identification of some sort – a national ID, a driver’s license, passport, etc.
7. Once the CA is happy that they have verified the user’s identity, they take the intermediate certificate and encrypt it with their own private key – which results in a new file.  If you look inside this file, you’ll see —–BEGIN CERTIFICATE —– and —–END CERTIFICATE—– lines sandwiching a Base 64-encoded blob.  This file is what is known a valid X.509 certificate.
8. The CA sends this newly created X.509 certificate back to the person who was verified.